    /* --- Previous CSS rules --- */
    /* ... (Variables, Root, Header, Actions, .tree, .tree__label etc.) ... */

    /* --- Adjust Spacing --- */
    .tree__label > span {
      overflow: hidden;
      /* Reduce vertical padding */
      padding: 2px 5px;
      border-color: transparent;
      border-width: var(--treeview-node-border-width);
      border-style: solid;
      border-radius: var(--treeview-node-border-radius);
      cursor: pointer;
      font-family: var(--editor-font);
      font-size: 15px; /* Slightly smaller font */
      /* Reduce line-height */
      line-height: 1.3;
      text-decoration: none;
      white-space: nowrap;
      text-overflow: ellipsis;
      display: inline-block;
      /* Reduce bottom margin */
      margin-bottom: 1px;
      position: relative;
      vertical-align: middle; /* Align span vertically */
    }

    /* --- Icon Styling --- */

    /* Style the default collapse/expand icon (.tree__collapse is the SPAN SortableTree adds) */
    .tree__collapse {
      color: var(--editor-command-button-color);
      display: flex;
      align-items: center;
      justify-content: center;
      /* Add size constraints */
      width: var(--st-collapse-icon-width);
      height: var(--st-collapse-icon-height);
      /* Use ::before to add the SVG icon */
      position: relative; /* Needed for pseudo-element positioning */
    }
    .tree__collapse::before {
        content: ""; /* Clear default content if any */
        display: inline-block;
        width: 16px; /* Feather icon size */
        height: 16px;
        background-color: currentColor; /* Use text color for the icon */
        -webkit-mask-repeat: no-repeat;
        mask-repeat: no-repeat;
        -webkit-mask-size: 100% 100%;
        mask-size: 100% 100%;
    }

    /* Icon for COLLAPSED state (chevron-right) - Targets the node */
    sortable-tree-node:not([open]) > .tree__collapse::before {
       /* Replace with your encoded chevron-right SVG */
       -webkit-mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>');
       mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>');
    }

    /* Icon for EXPANDED state (chevron-down) - Targets the node */
    sortable-tree-node[open] > .tree__collapse::before {
       /* Replace with your encoded chevron-down SVG */
       -webkit-mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>');
       mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>');
    }

    /* Hide collapse icon if node has no children */
    sortable-tree-node > div:nth-child(2):empty + .tree__collapse {
       display: none; /* Keep this */
    }
    /* Hide collapse icon specifically for page nodes */
    sortable-tree-node[data-node-type="page"] > .tree__collapse {
         visibility: hidden; /* Keep space but hide icon */
    }


    /* Add icons for node types using ::before on the inner span */
    .tree__label > span::before {
      display: inline-block;
      margin-right: 5px;
      vertical-align: -0.15em; /* Adjust alignment */
      width: 1em; /* Icon width */
      height: 1em; /* Icon height */
      line-height: 1;
      background-color: currentColor; /* Use text color */
      content: ""; /* Clear default content */
       -webkit-mask-repeat: no-repeat;
       mask-repeat: no-repeat;
       -webkit-mask-size: 100% 100%;
       mask-size: 100% 100%;
    }

    /* Folder Icon */
    .tree__label > span[data-node-type="folder"]::before {
      /* Replace with your encoded folder SVG */
      -webkit-mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>');
      mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>');
    }

    /* Tag Icon */
    .tree__label > span[data-node-type="tag"]::before {
      /* Replace with your encoded tag SVG */
      -webkit-mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>');
      mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>');
    }

    /* Page (File) Icon */
    .tree__label > span[data-node-type="page"]::before {
      /* Replace with your encoded file-text SVG */
      -webkit-mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>');
      mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>');
    }

    /* --- Rest of CSS (.treeview-node-pagecount, hover effects, etc.) --- */
    .treeview-node-pagecount {
      font-size: 0.85em;
      margin-left: 6px;
      opacity: 0.7;
      display: inline-block;
      vertical-align: baseline;
    }

    .tree__label > span[data-node-type="tag"]:hover,
    .tree__label > span[data-node-type="folder"]:hover,
    .tree__label > span[data-node-type="page"]:hover {
        background-color: var(--subtle-background-color);
        border-color: var(--ui-accent-color);
    }
    

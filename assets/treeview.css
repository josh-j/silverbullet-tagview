/* --- Relevant Variable --- */
html {
  /* ... other variables ... */
  --treeview-icon-color: var(--text-muted); /* Color for chevron */
}

/* --- Collapse/Expand Chevrons --- */

/* Base style for the pseudo-element that will hold the icon */
.tree__collapse::before {
    content: "";
    display: inline-block;
    width: 1em; /* Size controlled by font-size */
    height: 1em;
    font-size: var(--st-collapse-icon-size); /* Control size (e.g., 1em) */
    background-color: currentColor; /* Use the color set on .tree__collapse */
    -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat;
    -webkit-mask-size: 100% 100%; mask-size: 100% 100%;
}

/* Feather 'chevron-right' Icon for COLLAPSED state */
sortable-tree-node:not([open]) > .tree__label > .tree__collapse::before,
sortable-tree-node:not([open]) > .tree__collapse::before {
   /* This is the Feather chevron-right SVG embedded as a data URL */
   -webkit-mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>');
   mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>');
}
/* Feather 'chevron-down' Icon for EXPANDED state */
sortable-tree-node[open] > .tree__label > .tree__collapse::before,
sortable-tree-node[open] > .tree__collapse::before {
   /* This is the Feather chevron-down SVG embedded as a data URL */
   -webkit-mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>');
   mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>');
}

/* --- Page Node Icon --- */

/* Feather 'file-text' Icon for PAGE NODES */
.tree__label > span[data-node-type="page"]::before {
  display: inline-block; margin-right: 6px; vertical-align: -0.1em;
  width: 1em; height: 1em; line-height: 1; background-color: currentColor;
  content: ""; flex-shrink: 0; -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat;
  -webkit-mask-size: 100% 100%; mask-size: 100% 100%;
  /* This is the Feather file-text SVG embedded as a data URL */
  -webkit-mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>');
  mask-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>');
}

/* --- Rule to hide the default SortableTree SVG --- */
.tree__collapse > svg {
  display: none !important;
}

/* Diagnostic CSS - Focus on core layout */

/******************************************************************************
 * Basic Variables
 *****************************************************************************/
html {
  --st-subnodes-padding-left: 1.25rem;
  --st-collapse-icon-width: 1.25rem;
  --st-collapse-icon-height: 1.5em; /* Base on font-size */
}

/******************************************************************************
 * Page & Scrolling Styles
 *****************************************************************************/
html, body {
  margin: 0; padding: 0; height: 100vh; overflow: hidden;
  font-family: var(--ui-font); /* Use SB font */
  background-color: var(--root-background-color); /* Use SB background */
  color: var(--text-color); /* Use SB text color */
}
.treeview-root {
  height: 100%; display: flex; flex-direction: column;
  overflow: hidden; box-sizing: border-box;
}

/******************************************************************************
 * Header & Button Alignment
 *****************************************************************************/
.treeview-header {
  padding: 4px 8px; /* Minimal padding */
  border-bottom: 1px solid var(--divider-color);
  flex-shrink: 0;
  background-color: var(--root-background-color); /* Match root */
}
.treeview-actions {
  display: flex !important; /* Force flex */
  justify-content: space-between !important; /* Force spacing */
  align-items: center !important; /* Force alignment */
  width: 100%;
  min-height: 24px;
}
.treeview-actions-left, .treeview-actions-right {
  display: flex !important; /* Force flex */
  align-items: center !important;
}
.treeview-actions button {
  display: inline-flex !important; /* Force display */
  align-items: center;
  justify-content: center;
  margin: 1px; padding: 2px 4px; /* Minimal */
  border: 1px solid var(--divider-color); /* Basic border */
  background-color: var(--action-button-background-color);
  color: var(--action-button-color);
  cursor: pointer;
  flex-shrink: 0;
}
.treeview-actions button > svg { height: 16px; width: 16px; }

/******************************************************************************
 * Tree Container & Scrolling
 *****************************************************************************/
#treeview-tree {
  flex-grow: 1 !important; /* Force grow */
  overflow-y: auto !important; /* Force scroll */
  overflow-x: hidden !important;
  padding: 4px 8px;
  min-height: 0 !important; /* Force min-height for flex */
}

/******************************************************************************
 * Basic Tree Styles (Minimal)
 *****************************************************************************/
.tree {
	display: flex; flex-direction: column;
  margin: 0; padding-left: 0;
}
sortable-tree-node > div:nth-child(2) {
    padding-left: var(--st-subnodes-padding-left);
    box-sizing: border-box;
}
.tree__label {
  display: flex; align-items: center; padding: 1px 0; min-height: 1.5em;
}
.tree__label > span {
  padding: 1px 4px; font-size: 14px; line-height: 1.4;
  white-space: nowrap; text-overflow: ellipsis; overflow: hidden;
  cursor: pointer; display: inline-flex; align-items: center;
}
.tree__collapse {
  width: var(--st-collapse-icon-width); height: var(--st-collapse-icon-height);
  flex-shrink: 0; cursor: pointer; display: flex; align-items: center; justify-content: center;
  color: var(--text-muted); /* Basic color */
}
/* Basic text arrows */
sortable-tree-node:not([open]) > .tree__collapse::before { content: ">"; font-size: 1em; }
sortable-tree-node[open] > .tree__collapse::before { content: "v"; font-size: 1em; }
/* Hide icon container if no children/page */
sortable-tree-node > div:nth-child(2):empty + span.tree__collapse,
sortable-tree-node[data-node-type="page"] > span.tree__collapse,
sortable-tree-node[data-node-type="page"] > div:first-child > span.tree__collapse {
   visibility: hidden;
}
/* Remove page icon for simplicity */
.tree__label > span[data-node-type="page"]::before { content: none; }
/* Remove page count for simplicity */
.treeview-node-pagecount { display: none; }
/* Basic hover */
.tree__label > span:hover { background-color: var(--subtle-background-color); }

